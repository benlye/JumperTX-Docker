dist: trusty
sudo: true

language: c

services:
  - docker

notifications:
  email: false

before_install:
  - git clone --recursive https://github.com/JumperXYZ/JumperTX.git /tmp/JumperTX
  #- start_fold() { echo -e "travis_fold:start:$1\033[33;1m$2\033[0m" }
  #- end_fold() { echo -e "\ntravis_fold:end:$1\r" }
  
install:
  - cd ${TRAVIS_BUILD_DIR}
  - ls -al
  - docker build -t benlye/jumpertx-build .

before_script:
  - export -f travis_fold

script:
  # Build for T16 with no extra cmake flags
  - travis_fold start "T16.default.flags" "blah blah blah"
  - docker run --rm -it -v /tmp/JumperTX:/jumpertx benlye/jumpertx-build
  - travis_fold end "T16.default.flags"
